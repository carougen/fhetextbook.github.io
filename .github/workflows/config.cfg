\Preamble{xhtml,mathjax,mathml}
%\Configure{MathJaxMacros}{mymacros.tex} 
\Configure{CutAt}{part}
\Configure{CutAt}{section}
\Configure{CutAt}{subsection}

\Configure{graphics*}{svg}{%
  width="\Gin@req@width"%
}

\Configure{crosslinks+}
  {%
    \ifvmode\IgnorePar\fi\EndP
    \HCode{<nav class="nav-prevnext">}%
  }
  {% ─── Prev ───
    \ifx\PrevHref\empty
    \else
      \HCode{<a rel="prev" href="\PrevHref">&#x25C0; Prev</a>}%
    \fi
  }
  {% ─── Up (parent) ───
    \ifx\UpHref\empty
    \else
      \HCode{<a rel="up"  href="\UpHref">Up ▲</a>}%
    \fi
  }
  {% ─── Next ───
    \ifx\NextHref\empty
    \else
      \HCode{<a rel="next" href="\NextHref">Next &#x25B6;</a>}%
    \fi
  }
  {%
    \HCode{</nav>}%
  }

%\Configure{Gin-dim}{} 
\Css{img { 
    max-width: 100\%; 
    height: auto; 
}}
\catcode`\:=11
% this configuration is needed for \bm{x}^{foo}
% I've fixed it in TeX4ht sources, so it can be removed once the fix is in distros
\Configure{bm}
  {\bgroup\ifmmode \ifmtext \else
     \Tg<\a:mathml mstyle
             mathvariant="bold">%
     \expandafter\expandafter\expandafter\:gobble
   \fi\fi}
  {\ifmmode \ifmtext \else \Tg</\a:mathml mstyle>\fi\fi\egroup}
\renewcommand\mymathcolor[2]{\HCode{<mstyle mathcolor="#1">}#2\HCode{</mstyle>}}
\catcode`\:=12
\begin{document}
\EndPreamble
